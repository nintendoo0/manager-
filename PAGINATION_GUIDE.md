# Как использовать пагинацию

## Для пользователей

### Просмотр проектов и дефектов

После реализации пагинации вы увидите элементы управления внизу списков:

```
┌─────────────────────────────────────────────────────┐
│ Показано 1-10 из 45                                 │
│                                                     │
│ [◄ Назад] [1] [2] [3] ... [5] [Вперед ►]          │
│                                                     │
│ На странице: [10 ▼]                                │
└─────────────────────────────────────────────────────┘
```

### Основные действия

**1. Переход между страницами:**
- Нажмите кнопку с номером страницы для прямого перехода
- Используйте "Назад" / "Вперед" для постраничной навигации

**2. Изменение количества элементов:**
- Выберите нужное значение в выпадающем списке "На странице"
- Доступные варианты: 5, 10, 20, 50 элементов

**3. Информация:**
- Вверху отображается: "Показано X-Y из Z"
- X-Y: диапазон текущих элементов
- Z: общее количество элементов

### Советы

✅ **При большом количестве данных:**
   - Используйте фильтры для сужения выборки
   - Уменьшите количество элементов на странице (5-10)

✅ **Для быстрого просмотра:**
   - Увеличьте количество элементов (20-50)
   - Меньше переключений между страницами

✅ **Фильтры + пагинация:**
   - При изменении фильтров автоматически возврат на страницу 1
   - Пагинация учитывает отфильтрованные данные

## Для разработчиков

### Быстрый старт

**1. Импортируйте компонент:**
```javascript
import Pagination from '../UI/Pagination';
```

**2. Добавьте состояния:**
```javascript
const [currentPage, setCurrentPage] = useState(1);
const [itemsPerPage, setItemsPerPage] = useState(10);
const [pagination, setPagination] = useState({});
```

**3. Обновите API запрос:**
```javascript
const res = await api.get(`/api/endpoint?page=${currentPage}&limit=${itemsPerPage}`);
setData(res.data.data);
setPagination(res.data.pagination);
```

**4. Добавьте обработчик:**
```javascript
const handlePageChange = (page, newLimit) => {
  if (newLimit) {
    setItemsPerPage(newLimit);
    setCurrentPage(1);
  } else {
    setCurrentPage(page);
  }
};
```

**5. Рендерите компонент:**
```jsx
<Pagination
  currentPage={currentPage}
  totalPages={pagination.totalPages}
  totalItems={pagination.totalItems}
  itemsPerPage={itemsPerPage}
  onPageChange={handlePageChange}
/>
```

### Примеры кода

См. полную документацию в `PAGINATION_README.md`

## Часто задаваемые вопросы

**Q: Почему при изменении фильтра я возвращаюсь на страницу 1?**  
A: Это нормальное поведение. При изменении фильтра количество элементов меняется, поэтому система автоматически показывает первую страницу новых результатов.

**Q: Можно ли отключить пагинацию?**  
A: Да, установите большое значение `limit` (например, 1000), и все элементы будут на одной странице. Но это может замедлить работу.

**Q: Сохраняется ли выбранная страница при обновлении?**  
A: Нет, при обновлении страницы возврат на страницу 1. В будущем можно добавить сохранение в URL параметрах.

**Q: Как работает пагинация с поиском?**  
A: Пагинация автоматически учитывает результаты поиска и фильтрации. Общее количество будет соответствовать отфильтрованным данным.

## Технические детали

- **Backend:** PostgreSQL LIMIT/OFFSET запросы
- **Frontend:** React useState для управления состоянием
- **Производительность:** Загружается только нужная страница
- **Адаптивность:** Работает на всех устройствах

---

**Дата обновления:** 10 декабря 2025  
**Версия:** 1.0.0
